# Общее описание

Необходимо реализовать расширяемую библиотеку для отправки различного вида данных некоторым получателям.

Отправкой и обработкой сообщений занимается менеджер -- единая точка доступа, в которую передается сообщение и адресаты, определяется нотификатор, отвечающий за доставку сообщения по назначению, а также устанавливается политика обработки ошибок и поведение в случае неподдерживаемого типа.

**Сделайте обертку для получившейся библиотеки в Python.**

## Типы сообщений

 - текст,
 - структура (специфичная для конкретных нотификаторов, при том сериализуемая в json/protobuf),
 - бинарные данные с некоторым mime-type (фото, документ, прочее).

## Куда отправлять

 - логи (условно -- некоторый файл или стрим),
 - emails (отправка писем),
 - null (сброс сообщений),
 - telegram (сообщения и картинки в telegram).

# Детали реализации

- Единый интерфейс для сообщения -- разные реализации для разных типов.
- Принятие всех типов сообщений всеми типами нотификаторов. Некорректный тип либо игнорировать, либо сообщать об ошибке (регулируется стратегией).
- Корректная обработка каждого типа сообщения, поддерживаемого нотификатором.
- Нотификаторы должны регистироваться и храниться в некоторой фабрике. В менеджер следует передавать либо сам нотификатор, либо его имя.
- Предусмотреть различные стратегии обработки результатов (что делать в случае ошибки:  проверка таймаута и повтор запросов, сообщение в лог).
- Продумать, как лучше реализовать передачу получателей сообщений.

## Что нужно предусмотреть

Для сообщений в телеграме следует предусмотреть максимальную длину и если сообщение слишком длинное, разделять на несколько (настройка нотификатора).

Рассмотрите, где удобнее использовать статическое наследование (мета-программирование, шаблоны), а где - динамическое (полиморфизм).

Места подключения библиотек для отправки писем/запросов/записи в файл сделайте гибкими, при необходимости оберните в некоторый адаптер.

Для нотификаторов в логи сделайте fallback для записи _любых_ типов сообщений.

Для отправки e-mail'ов можно воспользоваться [VMime](https://www.vmime.org).

Для отправки сообщений в Telegram зарегистрируйте своего бота, создайте чат или канал и воспользуйтесь [API](https://core.telegram.org/bots/api#sendmessage).

Обертку в Python предлагается сделать с помощью [PyBind11](https://pybind11.readthedocs.io/en/latest/).

# Как сдавать

Предложу всем завести репозиторий на github и добавить туда меня (dkositsyn). Там я смогу оперативно смотреть и комментировать.

Дедлайн: 26 ноября 2020г 14:00
